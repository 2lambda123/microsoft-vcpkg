diff --git a/src/cairoint.h b/src/cairoint.h
index 29b844d..f82a504 100644
--- a/src/cairoint.h
+++ b/src/cairoint.h
@@ -50,8 +50,10 @@
 #include "config.h"
 #endif
 
-#ifdef _MSC_VER
+#if defined _MSC_VER && defined cairo_EXPORTS
 #define cairo_public __declspec(dllexport)
+#else
+#define cairo_public 
 #endif
 
 #include <assert.h>

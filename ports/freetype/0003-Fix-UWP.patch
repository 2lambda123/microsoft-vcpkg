diff --git a/include/freetype/freetype.h b/include/freetype/freetype.h
index 77fede3..b7c7eeb 100644
--- a/include/freetype/freetype.h
+++ b/include/freetype/freetype.h
@@ -1054,6 +1054,11 @@ FT_BEGIN_HEADER
    *   Especially for TrueType fonts see also the documentation for
    *   @FT_Size_Metrics.
    */
+   
+#if defined(WINAPI_FAMILY) && (WINAPI_FAMILY != WINAPI_FAMILY_DESKTOP_APP)
+#define generic GenericFromFreeTypeLibrary
+#endif
+
   typedef struct  FT_FaceRec_
   {
     FT_Long           num_faces;
@@ -1933,6 +1938,9 @@ FT_BEGIN_HEADER
 
   } FT_GlyphSlotRec;
 
+#if defined(WINAPI_FAMILY) && (WINAPI_FAMILY != WINAPI_FAMILY_DESKTOP_APP)
+#undef generic
+#endif
 
   /*************************************************************************/
   /*************************************************************************/
diff --git a/meson.build b/meson.build
index add36da..fbffca3 100644
--- a/meson.build
+++ b/meson.build
@@ -336,6 +336,10 @@ if use_unix_ftsystem_c
   ft2_defines += ['-DFT_CONFIG_CONFIG_H=<ftconfig.h>']
 endif
 
+if host_machine.system() == 'windowsstore'
+    windowsapp_dep = cc.find_library('windowsapp')
+    ft2_deps += [windowsapp_dep]
+endif
 
 ft2_lib = library('freetype',
   sources: ft2_sources + [ftmodule_h],
diff --git a/src/base/ftobjs.c b/src/base/ftobjs.c
index 0ded244..7e68202 100644
--- a/src/base/ftobjs.c
+++ b/src/base/ftobjs.c
@@ -539,6 +539,9 @@
     return error;
   }
 
+#if defined(WINAPI_FAMILY) && (WINAPI_FAMILY != WINAPI_FAMILY_DESKTOP_APP)
+#define generic GenericFromFreeTypeLibrary
+#endif
 
   static void
   ft_glyphslot_clear( FT_GlyphSlot  slot )
@@ -1257,6 +1260,9 @@
     FT_FREE( face );
   }
 
+#if defined(WINAPI_FAMILY) && (WINAPI_FAMILY != WINAPI_FAMILY_DESKTOP_APP)
+#undef generic
+#endif
 
   static void
   Destroy_Driver( FT_Driver  driver )

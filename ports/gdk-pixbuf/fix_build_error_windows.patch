diff --git a/meson.build b/meson.build
index b39c55d5d..e1c5018a6 100644
--- a/meson.build
+++ b/meson.build
@@ -89,7 +89,11 @@ if cc.has_function('round', dependencies: mathlib_dep)
   gdk_pixbuf_conf.set('HAVE_ROUND', 1)
 endif
 
-if cc.has_function('lrint', dependencies: mathlib_dep)
+function_check_args =''
+if cc.get_id() == 'msvc'
+  function_check_args ='-Oi-'
+endif
+if cc.has_function('lrint', dependencies: mathlib_dep, args: function_check_args)
   gdk_pixbuf_conf.set('HAVE_LRINT', 1)
 endif
 

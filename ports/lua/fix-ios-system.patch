diff --git a/src/loslib.c b/src/loslib.c
--- a/src/loslib.c
+++ b/src/loslib.c
@@ -143,7 +143,12 @@ static int os_execute (lua_State *L) {
   const char *cmd = luaL_optstring(L, 1, NULL);
   int stat;
   errno = 0;
+#if defined(__APPLE__) && !TARGET_OS_OSX
+  // system() is __IOS_PROHIBITED, __WATCHOS_PROHIBITED, and __TVOS_PROHIBITED.
+  stat = 127; // error: shell execution failed
+#else
   stat = system(cmd);
+#endif
   if (cmd != NULL)
     return luaL_execresult(L, stat);
   else {

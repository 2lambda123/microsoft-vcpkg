diff --git a/src/types.c b/src/types.c
index 7e80aec..c46bba2 100644
--- a/src/types.c
+++ b/src/types.c
@@ -31,6 +31,12 @@
 #include <ffi.h>
 #include <ffi_common.h>
 
+#ifdef FFI_EXPORT_DATA
+#define FFI_EXPORT __declspec(dllexport)
+#else
+#define FFI_EXPORT
+#endif
+
 /* Type definitions */
 
 #define FFI_TYPEDEF(name, type, id, maybe_const)\
@@ -38,7 +44,7 @@ struct struct_align_##name {			\
   char c;					\
   type x;					\
 };						\
-maybe_const ffi_type ffi_type_##name = {	\
+FFI_EXPORT const ffi_type ffi_type_##name = {		\
   sizeof(type),					\
   offsetof(struct struct_align_##name, x),	\
   id, NULL					\
@@ -60,7 +66,7 @@ maybe_const ffi_type ffi_type_complex_##name = {	\
 }
 
 /* Size and alignment are fake here. They must not be 0. */
-const ffi_type ffi_type_void = {
+FFI_EXPORT const ffi_type ffi_type_void = {
   1, 1, FFI_TYPE_VOID, NULL
 };
 

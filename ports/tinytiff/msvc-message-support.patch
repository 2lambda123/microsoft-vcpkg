diff --git a/src/tinytiffreader.c b/src/tinytiffreader.c
index 82cafee..026083a 100644
--- a/src/tinytiffreader.c
+++ b/src/tinytiffreader.c
@@ -56,7 +56,11 @@
 
 #ifdef TINYTIFF_USE_WINAPI_FOR_FILEIO
 #  include <windows.h>
-#  warning COMPILING TinyTIFFReader with WinAPI
+#  ifdef _MSC_VER
+#    pragma message(__FILE__ "(): COMPILING TinyTIFFWriter with WinAPI")
+#  else
+#    warning COMPILING TinyTIFFWriter with WinAPI
+#  endif // _MSC_VER
 #  define TinyTIFFReader_POSTYPE DWORD
 #else
 #  define TinyTIFFReader_POSTYPE fpos_t
diff --git a/src/tinytiffwriter.c b/src/tinytiffwriter.c
index 416e800..04b9ee4 100644
--- a/src/tinytiffwriter.c
+++ b/src/tinytiffwriter.c
@@ -50,7 +50,11 @@
 
 #ifdef TINYTIFF_USE_WINAPI_FOR_FILEIO
 #  include <windows.h>
-#  warning COMPILING TinyTIFFWriter with WinAPI
+#  ifdef _MSC_VER
+#    pragma message(__FILE__ "(): COMPILING TinyTIFFWriter with WinAPI")
+#  else
+#    warning COMPILING TinyTIFFWriter with WinAPI
+#  endif // _MSC_VER
 #  define TinyTIFFWriter_POSTYPE DWORD
 #else
 #  define TinyTIFFWriter_POSTYPE fpos_t

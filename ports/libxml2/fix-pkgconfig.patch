diff --git a/CMakeLists.txt b/CMakeLists.txt
index f59c98a..adc80ef 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -478,6 +478,9 @@ if(WIN32)
 			PROPERTIES
 			DEBUG_POSTFIX d
 		)
+        if (CMAKE_BUILD_TYPE STREQUAL Debug)
+            set(DEBUG_POSTFIX d)
+        endif()
 	else()
 		set_target_properties(
 			LibXml2
@@ -487,6 +490,9 @@ if(WIN32)
 			RELEASE_POSTFIX s
 			RELWITHDEBINFO_POSTFIX s
 		)
+        if (CMAKE_BUILD_TYPE STREQUAL Debug)
+            set(DEBUG_POSTFIX sd)
+        endif()
 	endif()
 endif()
 
@@ -685,6 +691,17 @@ if(MSVC)
 	install(FILES ${CMAKE_CURRENT_BINARY_DIR}/libxml/xmlwin32version.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/libxml2/libxml COMPONENT development)
 endif()
 
+# pkgconfig
+set(prefix "${CMAKE_INSTALL_PREFIX}")
+set(exec_prefix "\${prefix}")
+set(libdir ${prefix}/${CMAKE_INSTALL_LIBDIR})
+set(includedir ${prefix}/${CMAKE_INSTALL_INCLUDEDIR})
+
+configure_file(libxml-2.0.pc.in libxml-2.0.pc @ONLY)
+configure_file(libxml-2.0-uninstalled.pc.in libxml-2.0-uninstalled.pc @ONLY)
+install(FILES ${CMAKE_BINARY_DIR}/libxml-2.0.pc DESTINATION lib/pkgconfig)
+#install(FILES ${CMAKE_BINARY_DIR}/libxml-2.0-uninstalled.pc DESTINATION lib/pkgconfig)
+
 if(LIBXML2_WITH_PYTHON)
 	set(prefix "${CMAKE_INSTALL_PREFIX}")
 	configure_file(python/setup.py.in setup.py @ONLY)
diff --git a/libxml-2.0.pc.in b/libxml-2.0.pc.in
index 2653a7c..fb57c5c 100644
--- a/libxml-2.0.pc.in
+++ b/libxml-2.0.pc.in
@@ -8,6 +8,6 @@ Name: libXML
 Version: @VERSION@
 Description: libXML library version2.
 Requires:
-Libs: -L${libdir} -lxml2
+Libs: -L${libdir} -lxml2@DEBUG_POSTFIX@
 Libs.private: @ICU_LIBS@ @THREAD_LIBS@ @Z_LIBS@ @LZMA_LIBS@ @ICONV_LIBS@ @M_LIBS@ @WIN32_EXTRA_LIBADD@ @LIBS@
 Cflags: @XML_INCLUDEDIR@ @XML_CFLAGS@

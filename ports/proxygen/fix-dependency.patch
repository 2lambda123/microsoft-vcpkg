diff --git a/CMakeLists.txt b/CMakeLists.txt
index 112b36b..b1967c0 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -66,10 +66,10 @@ endif()
 #
 # IMPORTANT: If you change this, make the analogous update in:
 #   cmake/proxygen-config.cmake.in
-find_package(fmt REQUIRED)
-find_package(folly REQUIRED)
-find_package(wangle REQUIRED)
-find_package(mvfst REQUIRED)
+find_package(fmt CONFIG REQUIRED)
+find_package(folly CONFIG REQUIRED)
+find_package(wangle CONFIG REQUIRED)
+find_package(mvfst CONFIG REQUIRED)
 find_package(zstd CONFIG REQUIRED)
 find_package(ZLIB REQUIRED)
 find_package(OpenSSL REQUIRED)
@@ -124,27 +124,8 @@ SET(GFLAG_DEPENDENCIES "")
 SET(PROXYGEN_EXTRA_LINK_LIBRARIES "")
 SET(PROXYGEN_EXTRA_INCLUDE_DIRECTORIES "")
 
-find_package(gflags CONFIG QUIET)
-if (gflags_FOUND)
-  message("module path: ${CMAKE_MODULE_PATH}")
-  message(STATUS "Found gflags from package config")
-  if (TARGET gflags-shared)
-    list(APPEND GFLAG_DEPENDENCIES gflags-shared)
-  elseif (TARGET gflags)
-    list(APPEND GFLAG_DEPENDENCIES gflags)
-  else()
-    message(FATAL_ERROR
-            "Unable to determine the target name for the GFlags package.")
-  endif()
-  list(APPEND CMAKE_REQUIRED_LIBRARIES ${GFLAGS_LIBRARIES})
-  list(APPEND CMAKE_REQUIRED_INCLUDES ${GFLAGS_INCLUDE_DIR})
-else()
-  find_package(Gflags REQUIRED MODULE)
-  list(APPEND PROXYGEN_EXTRA_LINK_LIBRARIES ${LIBGFLAGS_LIBRARY})
-  list(APPEND PROXYGEN_EXTRA_INCLUDE_DIRECTORIES ${LIBGFLAGS_INCLUDE_DIR})
-  list(APPEND CMAKE_REQUIRED_LIBRARIES ${LIBGFLAGS_LIBRARY})
-  list(APPEND CMAKE_REQUIRED_INCLUDES ${LIBGFLAGS_INCLUDE_DIR})
-endif()
+find_package(gflags CONFIG REQUIRED)
+list(APPEND CMAKE_REQUIRED_LIBRARIES gflags::gflags)
 
 include(ProxygenTest)
 

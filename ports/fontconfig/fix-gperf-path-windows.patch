diff --git a/meson.build b/meson.build
index 0ef22d3..9e6f958 100644
--- a/meson.build
+++ b/meson.build
@@ -342,7 +342,7 @@ else
   @1@
   '''
   gperf_snippet_format = 'echo foo,bar | @0@ -L ANSI-C'
-  gperf_snippet = run_command(sh, '-c', gperf_snippet_format.format(gperf.full_path()),
+  gperf_snippet = run_command(sh, '-c', gperf_snippet_format.format(gperf.full_path().replace('\\', '/')),
     check: true)
   gperf_test = gperf_test_format.format('size_t', gperf_snippet.stdout())
 

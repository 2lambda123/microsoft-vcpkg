diff --git a/CMakeLists.txt b/CMakeLists.txt
index e4c6556..4bc92ab 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -37,6 +37,7 @@ endif()
 message(STATUS "CMAKE_BUILD_TYPE = ${CMAKE_BUILD_TYPE}")
 
 message(STATUS "VERSION = ${VERSION}, BUILD = ${BUILD}")
+set(CMAKE_DEBUG_POSTFIX d)
 
 # Detect CPU type and whether we're building 64-bit or 32-bit code
 math(EXPR BITS "${CMAKE_SIZEOF_VOID_P} * 8")
@@ -601,7 +602,7 @@ endif()
 if(ENABLE_STATIC)
   add_library(jpeg-static STATIC ${JPEG_SOURCES} $<TARGET_OBJECTS:simd>
     ${SIMD_OBJS})
-  if(NOT MSVC)
+  if(1)
     set_target_properties(jpeg-static PROPERTIES OUTPUT_NAME jpeg)
   endif()
 endif()
@@ -661,7 +662,7 @@ if(WITH_TURBOJPEG)
       rdppm.c wrbmp.c wrppm.c)
     set_property(TARGET turbojpeg-static PROPERTY COMPILE_FLAGS
       "-DBMP_SUPPORTED -DPPM_SUPPORTED")
-    if(NOT MSVC)
+    if(1)
       set_target_properties(turbojpeg-static PROPERTIES OUTPUT_NAME turbojpeg)
     endif()
 
diff --git a/cmakescripts/BuildPackages.cmake b/cmakescripts/BuildPackages.cmake
index 3d35886..01844d9 100644
--- a/cmakescripts/BuildPackages.cmake
+++ b/cmakescripts/BuildPackages.cmake
@@ -169,9 +169,11 @@ configure_file(release/maketarball.in pkgscripts/maketarball)
 add_custom_target(tarball pkgscripts/maketarball
   SOURCES pkgscripts/maketarball)
 
-configure_file(release/libjpeg.pc.in pkgscripts/libjpeg.pc @ONLY)
+configure_file("${CMAKE_CURRENT_SOURCE_DIR}/release/libjpeg.pc.in" "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libjpeg.pc.in" @ONLY)
+file(GENERATE OUTPUT "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libjpeg.pc" INPUT "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libjpeg.pc.in")
 
-configure_file(release/libturbojpeg.pc.in pkgscripts/libturbojpeg.pc @ONLY)
+configure_file("${CMAKE_CURRENT_SOURCE_DIR}/release/libturbojpeg.pc.in" "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libturbojpeg.pc.in" @ONLY)
+file(GENERATE OUTPUT "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libturbojpeg.pc" INPUT "${CMAKE_CURRENT_BINARY_DIR}/pkgscripts/libturbojpeg.pc.in")
 
 include(CMakePackageConfigHelpers)
 write_basic_package_version_file(
diff --git a/release/libjpeg.pc.in b/release/libjpeg.pc.in
index 74fb7fc..2d07335 100644
--- a/release/libjpeg.pc.in
+++ b/release/libjpeg.pc.in
@@ -6,5 +6,5 @@ includedir=@CMAKE_INSTALL_FULL_INCLUDEDIR@
 Name: libjpeg
 Description: A SIMD-accelerated JPEG codec that provides the libjpeg API
 Version: @VERSION@
-Libs: -L${libdir} -ljpeg
+Libs: -L${libdir} -ljpeg$<$<CONFIG:Debug>:@CMAKE_DEBUG_POSTFIX@>
 Cflags: -I${includedir}
diff --git a/release/libturbojpeg.pc.in b/release/libturbojpeg.pc.in
index 81a0063..237cde3 100644
--- a/release/libturbojpeg.pc.in
+++ b/release/libturbojpeg.pc.in
@@ -6,5 +6,5 @@ includedir=@CMAKE_INSTALL_FULL_INCLUDEDIR@
 Name: libturbojpeg
 Description: A SIMD-accelerated JPEG codec that provides the TurboJPEG API
 Version: @VERSION@
-Libs: -L${libdir} -lturbojpeg
+Libs: -L${libdir} -lturbojpeg$<$<CONFIG:Debug>:@CMAKE_DEBUG_POSTFIX@>
 Cflags: -I${includedir}

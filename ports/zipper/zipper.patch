diff --git a/CMakeLists.txt b/CMakeLists.txt
index 394132a..ebceabe 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -10,6 +10,15 @@ set(CMAKE_LEGACY_CYGWIN_WIN32 0)
 cmake_minimum_required(VERSION 2.6)
 project(zipper)
 
+set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/")
+
+find_package(MiniZip REQUIRED)
+
+message("yop: ${MINIZIP_INCLUDE_DIR}")
+
+include_directories(${MINIZIP_INCLUDE_DIR})
+link_libraries(${MINIZIP_LIBRARIES})
+
 include (CMakeTestCCompiler)
 include (CheckCSourceCompiles)
 include (CheckCXXSourceCompiles)
@@ -285,38 +294,38 @@ include_directories(BEFORE ${LIBZ_INCLUDE_DIR})
 include_directories(BEFORE ${CMAKE_CURRENT_BINARY_DIR})
 include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR})
 include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/zipper)
-include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/minizip)
+# include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/minizip)
 
 # allow definition of extra include dirs
 if (EXTRA_INCLUDE_DIRS)
 include_directories(${EXTRA_INCLUDE_DIRS})
 endif()
 
-file(GLOB MINIZIP_SOURCES 
-  ${CMAKE_CURRENT_SOURCE_DIR}/minizip/*.c
-  ${CMAKE_CURRENT_SOURCE_DIR}/minizip/*.h
-  ${CMAKE_CURRENT_SOURCE_DIR}/minizip/aes/*.c
-  ${CMAKE_CURRENT_SOURCE_DIR}/minizip/aes/*.h
-)
-
-FILE(COPY ${CMAKE_CURRENT_SOURCE_DIR}/minizip/zip.h
-          ${CMAKE_CURRENT_SOURCE_DIR}/minizip/unzip.h
-          ${CMAKE_CURRENT_SOURCE_DIR}/minizip/ioapi_mem.h
-     DESTINATION
-          ${CMAKE_CURRENT_BINARY_DIR}/zipper
-)
-
-list(REMOVE_ITEM MINIZIP_SOURCES
-${CMAKE_CURRENT_SOURCE_DIR}/minizip/minizip.c
-${CMAKE_CURRENT_SOURCE_DIR}/minizip/miniunz.c
-)
-
-if(UNIX AND NOT CYGWIN)
-  list(REMOVE_ITEM MINIZIP_SOURCES
-  ${CMAKE_CURRENT_SOURCE_DIR}/minizip/iowin32.c
-  )
-endif()
-source_group(minizip FILES ${MINIZIP_SOURCES})
+# file(GLOB MINIZIP_SOURCES 
+#   ${CMAKE_CURRENT_SOURCE_DIR}/minizip/*.c
+#   ${CMAKE_CURRENT_SOURCE_DIR}/minizip/*.h
+#   ${CMAKE_CURRENT_SOURCE_DIR}/minizip/aes/*.c
+#   ${CMAKE_CURRENT_SOURCE_DIR}/minizip/aes/*.h
+# )
+
+# FILE(COPY ${CMAKE_CURRENT_SOURCE_DIR}/minizip/zip.h
+#           ${CMAKE_CURRENT_SOURCE_DIR}/minizip/unzip.h
+#           ${CMAKE_CURRENT_SOURCE_DIR}/minizip/ioapi_mem.h
+#      DESTINATION
+#           ${CMAKE_CURRENT_BINARY_DIR}/zipper
+# )
+
+# list(REMOVE_ITEM MINIZIP_SOURCES
+# ${CMAKE_CURRENT_SOURCE_DIR}/minizip/minizip.c
+# ${CMAKE_CURRENT_SOURCE_DIR}/minizip/miniunz.c
+# )
+
+# if(UNIX AND NOT CYGWIN)
+#   list(REMOVE_ITEM MINIZIP_SOURCES
+#   ${CMAKE_CURRENT_SOURCE_DIR}/minizip/iowin32.c
+#   )
+# endif()
+# source_group(minizip FILES ${MINIZIP_SOURCES})
 
 
 file(GLOB ZIPPER_SOURCES
@@ -332,7 +341,7 @@ file(GLOB TEST_SOURCES
 
 option(BUILD_SHARED_VERSION "Build the shared version of the library." OFF)
 if (BUILD_SHARED_VERSION)
-  add_library (${ZIPPER_LIBRARY} SHARED ${ZIPPER_SOURCES} ${MINIZIP_SOURCES} )
+  add_library (${ZIPPER_LIBRARY} SHARED ${ZIPPER_SOURCES} ) #${MINIZIP_SOURCES} )
   
   if (UNIX)
     SET_TARGET_PROPERTIES(${ZIPPER_LIBRARY} PROPERTIES
@@ -351,7 +360,7 @@ endif()
 
 option(BUILD_STATIC_VERSION "Build the static version of the library." ON)
 if (BUILD_STATIC_VERSION)
-  add_library (${ZIPPER_LIBRARY}-static STATIC ${ZIPPER_SOURCES} ${MINIZIP_SOURCES})
+  add_library (${ZIPPER_LIBRARY}-static STATIC ${ZIPPER_SOURCES}) #${MINIZIP_SOURCES})
   
   target_link_libraries(${ZIPPER_LIBRARY}-static ${LIBZ_LIBRARY} ${EXTRA_LIBS})
   

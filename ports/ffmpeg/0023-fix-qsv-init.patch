diff --git a/libavcodec/qsv.c b/libavcodec/qsv.c
--- a/libavcodec/qsv.c
+++ b/libavcodec/qsv.c 
@@ -393,12 +392,35 @@
 #if QSV_VERSION_ATLEAST(1, 16)
     init_par.GPUCopy        = gpu_copy;
 #endif
-    init_par.Implementation = impl;
+
+    // https://trac.ffmpeg.org/ticket/7933
+    // try d3d11
+    impl = MFX_IMPL_HARDWARE_ANY | MFX_IMPL_VIA_D3D11;
+    init_par.Implementation = impl;
     init_par.Version        = ver;
     ret = MFXInitEx(init_par, &qs->session);
-    if (ret < 0)
+    if (ret >= 0)
+        av_log(avctx, AV_LOG_DEBUG, "MFX Initialized with HARDWARE_ANY | VIA_D3D11\n");
+
+    if (ret < 0) {
+        // try d3d9
+        impl = MFX_IMPL_HARDWARE_ANY | MFX_IMPL_VIA_D3D9;
+        init_par.Implementation = impl;
+        ret = MFXInitEx(init_par, &qs->session);
+        if(ret >= 0)
+            av_log(avctx, AV_LOG_DEBUG, "MFX Initialized with HARDWARE_ANY | VIA_D3D9\n");
+    }
+
+    if (ret < 0) {
+        // try any
+        impl = MFX_IMPL_AUTO_ANY;
+        init_par.Implementation = impl;
+        ret = MFXInitEx(init_par, &qs->session);
+        if(ret >= 0)
+            av_log(avctx, AV_LOG_DEBUG, "MFX Initialized with AUTO_ANY\n");
+    }
+
+    if (ret < 0) {
         return ff_qsv_print_error(avctx, ret,
                                   "Error initializing an internal MFX session");
+    }
 
 #ifdef AVCODEC_QSV_LINUX_SESSION_HANDLE
     ret = ff_qsv_set_display_handle(avctx, qs);

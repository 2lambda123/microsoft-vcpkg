diff --git a/CMakeLists.txt b/CMakeLists.txt
index c7b2e2a..74118eb 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -17,11 +17,8 @@ cmake_minimum_required(VERSION 3.20.0)
 # Includes a bunch of basic flags and utilities shared across projects
 # See more at the github repository link below
 include(FetchContent)
-FetchContent_Declare(ztd.cmake
-	GIT_REPOSITORY https://github.com/soasis/cmake
-	GIT_TAG main)
-FetchContent_MakeAvailable(ztd.cmake)
-set(CMAKE_PROJECT_INCLUDE ${ZTD_CMAKE_PROJECT_PRELUDE})
+include(CMakePackageConfigHelpers)
+include(GNUInstallDirs)
 
 # # Project declaration
 # informs about the project, gives a description, version and MOST IMPORTANTLY
@@ -100,10 +97,7 @@ option(ITSY_BITSY_EXAMPLES "Enable build of examples" OFF)
 
 # # Dependencies
 # ztd.idk
-FetchContent_Declare(ztd.idk
-	GIT_REPOSITORY https://github.com/soasis/idk.git
-	GIT_TAG main)
-FetchContent_MakeAvailable(ztd.idk)
+find_package(ztd.idk CONFIG REQUIRED)
 
 # # itsy.bitsy Target
 # Build Target
@@ -135,7 +129,11 @@ write_basic_package_version_file(
 export(TARGETS itsy.bitsy FILE "${CMAKE_CURRENT_BINARY_DIR}/cmake/itsy.bitsy-targets.cmake")
 
 install(TARGETS itsy.bitsy
-	EXPORT itsy.bitsy)
+	EXPORT itsy.bitsy-targets)
+install(EXPORT itsy.bitsy-targets
+  FILE itsy.bitsy-targets.cmake
+  DESTINATION lib/cmake/itsy.bitsy
+)
 
 install(DIRECTORY include/itsy
 	DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
@@ -145,16 +143,6 @@ install(FILES
 	"${CMAKE_CURRENT_BINARY_DIR}/cmake/itsy.bitsy-config-version.cmake"
 	DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/itsy.bitsy")
 
-# pkg-config support, except on Windows
-if(NOT WIN32 OR NOT CMAKE_HOST_SYSTEM_NAME MATCHES Windows)
-	set(PKGCONFIG_INSTALL_DIR
-		"${CMAKE_INSTALL_DATAROOTDIR}/pkgconfig"
-		CACHE PATH "Path where itsy.bitsy.pc is installed")
-	
-	configure_file("${CMAKE_CURRENT_SOURCE_DIR}/cmake/itsy.bitsy.pc.in" "${CMAKE_CURRENT_BINARY_DIR}/itsy.bitsy.pc" @ONLY)
-	install(FILES "${CMAKE_CURRENT_BINARY_DIR}/itsy.bitsy.pc" DESTINATION "${PKGCONFIG_INSTALL_DIR}")
-endif()
-
 if (ITSY_BITSY_SINGLE)
 	add_subdirectory(single)
 endif()
diff --git a/cmake/itsy.bitsy-config.cmake.in b/cmake/itsy.bitsy-config.cmake.in
index 9f87935..9a9fa65 100644
--- a/cmake/itsy.bitsy-config.cmake.in
+++ b/cmake/itsy.bitsy-config.cmake.in
@@ -9,9 +9,12 @@
 #  See https://github.com/ThePhD/itsy_bitsy#using-the-library for documentation.
 
 @PACKAGE_INIT@
+include(CMakeFindDependencyMacro)
+find_dependency(ztd.idk CONFIG)
+include("${CMAKE_CURRENT_LIST_DIR}/itsy.bitsy-targets.cmake")
 
-include("${CMAKE_CURRENT_LIST_DIR}/sol2-targets.cmake")
 
+if(0)
 MESSAGE(STATUS ${CMAKE_CURRENT_LIST_DIR})
 
 if (TARGET sol2)
@@ -27,3 +30,4 @@ if(TARGET sol2_single)
     set_and_check(SOL2_INCLUDE_DIRS "${SOL2_SINGLE_INCLUDE_DIRS}")
     set(SOL2_LIBRARIES_SINGLE sol2_single)
 endif()
+endif()

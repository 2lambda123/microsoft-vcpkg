#Every update requires an update of these hashes and the version within the control file of each of the 32 ports. 
#So it is probably better to have a central location for these hashes and let the ports update via a script
set(QT_MAJOR_MINOR_VER 5.14)
set(QT_PATCH_VER 1)
set(QT_UPDATE_VERSION 0) # Switch to update qt and not build qt. Creates a file cmake/qt_new_hashes.cmake in qt5-base with the new hashes.

set(QT_PORT_LIST base 3d activeqt charts connectivity datavis3d declarative gamepad graphicaleffects imageformats location macextras mqtt multimedia networkauth
                 purchasing quickcontrols quickcontrols2 remoteobjects script scxml sensors serialport speech svg tools virtualkeyboard webchannel websockets
                 webview winextras xmlpatterns)

set(QT_HASH_qt5-base                964777323d0e3f9d355218c3493bb3b61d2750d9cb5ba71fce72cae3cd362acce88e39360f1fac0011f1b74d529a23621a7281191c622cc034ce78a77afa296b)
set(QT_HASH_qt5-3d                  ba5027a468059f482e87838d134b5f0385d14b7a4daca01671119b182955178b9c919b22e04e2d9d66f978aa3ed774ef6655636033e32949cdb9542cd44338b9)
set(QT_HASH_qt5-activeqt            4203c77c2cbdc2fec28f70ce70cbdcee7a8c54158cd5f237cecb78f3c44b01a72702196130a2b29880badff0b860e37dbb4f971b64ad023e79b594bf9bb302d8)
set(QT_HASH_qt5-charts              5cf2739a5bc67ed25cb6f39bd795447c1e37963d1f3726d37ad9a2894080db3329fd2c6b17937ad831db78f5099e7c3b4ecd02991a7a69eb482ab61877d54d0f)
set(QT_HASH_qt5-connectivity        bebffcda3949d798289fcbf8df99afe8fecb6bf410de3fca278f4290f561b75f667ac1f929e62ec423a56c3d80db06ce53d8992f360201e05ed6953af07ceb1a)
set(QT_HASH_qt5-datavis3d           51ca881a89bbe88011d4386edda23d42932e991d57586687dd022febe4cbfce9ff863f198e2d3b106f081c2bd8765f4c9de56b5db0a0a4a3304b464800a379d7)
set(QT_HASH_qt5-declarative         70094d24a977a5ae4a3a11ee31e49234592faca1ec8195560977e7834778d1b1fdc2a30e555dc6c43c98cef2a39d5c1bf6351093c0f46b9b22b4127f3bebef58)
set(QT_HASH_qt5-gamepad             d3c84f85cd47cd0a8117820d425c524c04a84262e052d4646de611c61e29a74d5b3a27418b9f5b2cffa06fc30a3f5d7c57a7af80e68b30f01945140d0caa16da)
set(QT_HASH_qt5-graphicaleffects    82e3ba00d58137c81be333347970e9e7e8c3301d171792d1f362cff6d5badb7d8148b7748a54d5efd5332f315989f2838638a73d960a8ff3ef875683414880c8)
set(QT_HASH_qt5-imageformats        843c8288a79506d4f2ac9e318f9478d689045bd0de1c2d9a529b060bd44dc7823561baef290bc54ed6cc756027f1dcdb8f706a2bd122ec9aec18848e5d316555)
set(QT_HASH_qt5-location            5ccba22c27beb0bbde4b84e510e322445d98f99d87046d463bd054d0a09f0b24af978cf372006aa2cfca0a0ca0fcbb067525a6dc103d2d89592afec0600efcd8)
set(QT_HASH_qt5-macextras           e80f856c40aee6392347d77ffacc8baa9d171529ebc79c75bcfd06666155cdb90c93e2a8771bd6b3657833a11cd69794199fd89648dc32bde399731a72ccee12)
set(QT_HASH_qt5-mqtt                e7095c46663e211aba9d3233f79415d94629a60b2d5db42c74b1bca1642bc7df0d2d18436d6370df1a9cb74522d764c9d39813fc879bc62a83e213219f26795b)
set(QT_HASH_qt5-multimedia          5e82d1d6078291d2b4355e03c0a50311847a76065d931039a50c995d18b0a658ed67fd35df78dbb49d7a231745cfdd4fbe7d23f5b652e6bb0737060a9dee5ce3)
set(QT_HASH_qt5-networkauth         ff6858493012faf83b4f82839807c640881575ede6ec133db91704590a9d977d3e2294632caca5a672f1326a8e38fb527b6c4c54b83a5853db6b4085cf5a109e)
set(QT_HASH_qt5-purchasing          c08eb0238dc2bc006d2db896f93749148a9c77093c2ed30725ce96fb8cc747a5a6041b635945da15543834fe0b347778d16b07efc52e9e5705e1ae04126312cb)
set(QT_HASH_qt5-quickcontrols       63157debfdab05f8fe141964c5a7d61373a422a7f46c01d1e5a7123998700790c63c8a5f1489c6fb25fd89c3065e1982605180568cf6a69835feeda441582be4)
set(QT_HASH_qt5-quickcontrols2      c35a450e26f9afb79c237133d407442823fb6bb664c0d2c952b92f9084db85f0e7ba02bac9aca3aef45670fed7da34c7ef183297360cb13aee4260513b4393ee)
set(QT_HASH_qt5-remoteobjects       0bbdc2b1d76cdc65e34f67c9c4cc1bfb8ec148e7b336f5a153a52258c2a06d5ccddfb43d10b7e5c6e04797ef2210ebf0039eae57635197f4d45e3b598d4a3ecc)
set(QT_HASH_qt5-script              9f4fbb038319c93c03117f61380fc6d1064191f0b738de054c2cee2055e7ddbb06ce3d01855b22dc2284858569b4aebb4e838ac0c7432e123421d64909c1d8a4)
set(QT_HASH_qt5-scxml               92facdc089f7d8c5521617d3080964a12df26e8b34c194be3c9307b412606548d8fda66d401fc6d93f71fed7f1bc7d075f797d4ab27de0ff603608d9b5601c25)
set(QT_HASH_qt5-sensors             48113863561ca0e5ada249505f2e8dd20512c2591823f296e5a4aacbfadf24e221c7ef4564071a300aafb8dcd88e87bb27a864c4f36e534089084c347e2a7bed)
set(QT_HASH_qt5-serialport          89a48df4e31b6ea08b33ba1929b26001c2fc4dd815e7a1860e4a8c3d41437813cc9f0b13c5e2d64bf1357a5a81a619543264e013aa3ca2e5e2439e885ec270eb)
set(QT_HASH_qt5-speech              8249e374735a4a3de6b8795a5c09c9bc285eff8fc7e98e0a2446eb6b7306da1decd657bf92d5b8d195b042e7459097ce9129c8f6e4a23326f698c6e7010c46a1)
set(QT_HASH_qt5-svg                 022f2a4ddfb13e8b35746394f968b117b38bb805869cf3dd8f354d3e76b3e64e47414e9d12dcdb04bcf2162b520ee5521836d6ee4a6d1257e7f1e5ec565ca821)
set(QT_HASH_qt5-tools               59874ed00f7f9749f0dda49d6e1ad064d1594c6b0bde577961c5d45628763d2a2031aa7ebed952f1cebc8a241eb6a0e4a4f8e36c0a93ffe738a0ff360b8d3f30)
set(QT_HASH_qt5-virtualkeyboard     e9e6605590a83d394ed2cb37fffcaef0ae84cc09bfcf388b95c34aa686f4cc40e8f29fa5441a979cca71f5fdb9b53b777658c2d756226483f6104ce20517f42d)
set(QT_HASH_qt5-webchannel          7abe214227efcea665a38488b73286ae8335490d825dd8886270e2c1cbf7382e27d6ec368b28f9876d6843029023a63e58f42e2bdb6aeb1502ae464af3e8666e)
set(QT_HASH_qt5-websockets          ce8926f0c8022182504184141c64897c5c71e430d6366b1d0802247e81445934db419ff61625b046b624de7b459c74f9634ae2a13e2d646a1b1811c4dbe177eb)
set(QT_HASH_qt5-webview             80345be7571b8e386c7f8bf343a7afc6bda712437e7426021823b87c48618dfc9c4863dd74a533f88d0cb259927b89f7eaeedce3caac503b152107c9002c8e3a)
set(QT_HASH_qt5-winextras           b9e9da83ce81d50cce5ac4497820a2ef388277728b4f117f04b3ad2be9f180a942209df35d165feb783c70a1a4cbb3ac9a32c51ffcd2c3a1eb95fe3bf1dbaea6)
set(QT_HASH_qt5-xmlpatterns         01a1e1af16c37cda8de23ed8da7f42f8f59116a3c7ff35fed4c589ab41f32c9e4ee3ef782517538e7d85ed86ad42bf5cf729bee9c239e4a1d7bf30458403a4ed)
##TODO
set(QT_HASH_qt5-doc                 998ab46c82f86796de09158dfe710363f69c8ef29825ce20ee16389f5a43cc09d213a7d9d8972a5c463aa1752538921f356b576854fcf8ed9c0f4313146389d1)
set(QT_HASH_qt5-x11extras           e88c9e0440c5d12003d74182dab5e63f0c65ced93447b5c3cabccd1c8c96e9b8e38fce327e678a433af18d2af683bb4f939dbc3e7bea2e911eeeb71ebe70c058)
set(QT_HASH_qt5-androidextras       4eee53f56c77c8686f28b3e808fc7163545b36116a78bb3f19f813e79aced67e219db9ed25eaf726ace52f54cde7c7d72fdbd0f1eface09efe2623a6782bd500)
set(QT_HASH_qt5-canvas3d            0) # removed in latest
set(QT_HASH_qt5-translations        e90a630fc1014543c3dd07379a7a4098664e25ec59e7c67ec8f9367e015a4351f8914954d3334ff44508a417cbd55a8dcf6f03c91aa75217fc723749726534d3)
set(QT_HASH_qt5-serialbus           e03005b386e79d802505caee459e7c3af54585f82ed55b3772ecea4523bbc2051ff31882f8370500ceaaab6ec400f34429ab24bece685d419ef32a34b02e1e99)
set(QT_HASH_qt5-webengine           fafa2fbc789941e837e35945857a6da00e73bd2abe512290674b9957719b998d8b8b95a35c709a171c9d0d111e6f418cec630dfcdbe47ecbae25a3b94e4c99f9)
set(QT_HASH_qt5-webglplugin         cd9425dd5c3c2d4ec376df0d1a26e9d04df3f461ecd3617970a7855dd5c578ecee3e3ac91b8f9bdecff25f50613ae7f7bbb466591d999cd2e97de5abd2aea97e)
set(QT_HASH_qt5-wayland             6cdfb527ce8160b562343bfb3959dfcd8ccc91a50817756547f4a0559b77372bee7587bc2e4e658e15b58ecb52c6eb0ef2193e30a285d13c4192bb03a1149cfc)

if(QT_UPDATE_VERSION)
    message(STATUS "Running Qt in automatic version port update mode!")
    set(_VCPKG_INTERNAL_NO_HASH_CHECK 1)
    if("${PORT}" MATCHES "qt5-base")
        foreach(_current_qt_port ${QT_PORT_LIST})
            set(_current_control "${VCPKG_ROOT_DIR}/ports/qt5-${_current_qt_port}/CONTROL")
            file(READ ${_current_control} _control_contents)
            #message(STATUS "Before: \n${_control_contents}")
            string(REGEX REPLACE "Version:[^0-9]+[0-9]\.[0-9]+\.[0-9]+[^\n]*\n" "Version: ${QT_MAJOR_MINOR_VER}.${QT_PATCH_VER}\n" _control_contents "${_control_contents}")
            #message(STATUS "After: \n${_control_contents}")
            file(WRITE ${_current_control} "${_control_contents}")
        endforeach()
    endif()
endif()
#Every update requires an update of these hashes and the version within the control file of each of the 32 ports. 
#So it is probably better to have a central location for these hashes and let the ports update via a script
set(QT_MAJOR_MINOR_VER 5.13)
set(QT_PATCH_VER 2)
set(QT_UPDATE_VERSION 0) # Switch to update qt and not build qt. Creates a file cmake/qt_new_hashes.cmake in qt5-base with the new hashes.

set(QT_PORT_LIST base 3d activeqt charts connectivity datavis3d declarative gamepad graphicaleffects imageformats location macextras mqtt multimedia networkauth
                 purchasing quickcontrols quickcontrols2 remoteobjects script scxml sensors serialport speech svg tools virtualkeyboard webchannel websockets
                 webview winextras xmlpatterns)

set(QT_HASH_qt5-base                b00ad017cc95876698615fd6e41c6ade366146c1f7057e1925bc1b72918f091aa39aa6bf0ea450fc6cd4d8f9810b228770d981dcb6cbe8ad30abb2c42804a204)
set(QT_HASH_qt5-3d                  54bf998ee378301fa7c6e236366518266e1cb23acfecd1015658ed5e7f40f4c9c4b5ad23c96b525867f9f7d2c2d983c059f88d045314dccc2e2501e1eec37e5f)
set(QT_HASH_qt5-activeqt            75894d8f2912b26bed8c6ca09ef93a0e7cc0af76886019262059861b0a13d69d4648b8ef3c88c4d0ab3a14d943a8813ffb897006e464b0c9bec57b73de242784)
set(QT_HASH_qt5-charts              a49e0fa92366f03c35dc8b69e7c2fb02f52509ebd81000ff7174567dfa2a7385cbd5bd260d356e879539ab47a2263bb156e5753c9eca5d2230caf562349ed2e5)
set(QT_HASH_qt5-connectivity        ec5269430ce548911f9af44f028bb8032163827d588da6914e9a721ad833277d88bfad43b1cfb4f844443c7a2af6cdbcf2951a339a127c22274612a4e3b90f38)
set(QT_HASH_qt5-datavis3d           57d934282f1a0a73201ef25090eb82dd0d00317bf8b3aac55e841cd30c256c38097f5cf16b2cdf79c4f4bc42e9d40351eea1c7b2a28701b117fad394ff094dfd)
set(QT_HASH_qt5-declarative         a3fcc65eccdd598c03991978db6462293781abc80affd9a489253d4a812073832554892d503fa0de32a9ef97ddc74b9ad71e2bd7cfa2f21ce1fc64d1358ab730)
set(QT_HASH_qt5-gamepad             5145daa5a332050cc99765e0c2e200cfcc2b1578a40dee54678bee1f52acb867e48e354068958c0e13a977cd2691b24aa9695a53d48d2ea444fb3c4e450fa95a)
set(QT_HASH_qt5-graphicaleffects    3cc44d345df2b6d8dc54fd7f94f5632acb39cc6be6966c791303a477c2d21e8650f50ae6c5e37803c6f81236b7607096dc9fdee847fbef115465370f7a0ace2a)
set(QT_HASH_qt5-imageformats        e76d7efaeab81c4eaf0f41dad150ae6b36ef2246993d344e4611ed865d62a8ac93cca5f62a2c94a97bf16333344490b5a51ca8de1c7eeb460c9ae321f759f4e6)
set(QT_HASH_qt5-location            6ec28fd3add9db5758d38b964649c6e1e687e853192539c4e46386eac28378540167ec0abbf6312ecc1d2f3d33d19eaed4c4485f0c2d94a93f401dde3b9ddf6f)
set(QT_HASH_qt5-macextras           34677f42384c08bbbd8b188ef7ff147524f27cdec06248cd48a988f27435a9222d94b81480f7cadc71dde5513b9818a422406333f4d31183c5a04332db1e05eb)
set(QT_HASH_qt5-mqtt                d83a3e38f02fef0245c52b1a777c5134e2ad5e853ab52b654887a8f85197d66aa6af18eea9c561865737f7c31bb2b34d1d188512c39dd0cc00833968f41670cd)
set(QT_HASH_qt5-multimedia          a18a2dc56ad33068efb78e5fb61df3c45d0102d153a02122ce39917df41acb161469092d0299df228fa7afde53260e9b7acf82ae016b99618c94d2caf02efa51)
set(QT_HASH_qt5-networkauth         1d0ba90f6b70a840ceeecd72caa8b128e6277e49e520d908efbd43b20bbe3a0e955d9b88f59327268134f32b18bb7b9cb0b9b93e34a43f9c38617338c3566d4f)
set(QT_HASH_qt5-purchasing          abe4c362d57fb7c26515f6ca730c3e20489554b426b27816d4eb5cad8bf25a526a2d82d5499589d148b6e53fbf44e407da0f27a02d955439f6815ab99e93fd17)
set(QT_HASH_qt5-quickcontrols       5ec713036fc34c62cfe31eb83172c4922b2ef5584d23239776b2696129d23f61f3984e6a1a7f95ba15ed6b630b62cd1ea66af3d187c1682b8575dd331b764ed0)
set(QT_HASH_qt5-quickcontrols2      f89b5126f0e6b96ccd206cef1229624949cb22f5f925b165af9a3c0ecb6517a0fd29f5c3958fd8ca008f1b000ffb352833ee90ba0ce0fc5f7983636732440a0f)
set(QT_HASH_qt5-remoteobjects       4f35b20437b8462aeb39f7068e37ba05d7135c17434bd4bca6a9865ccd7278262b291f97810416dc348e97a2d6c637c67871b443dd9d958dfa88e373a298f088)
set(QT_HASH_qt5-script              45248b7498f316c8532dacd827a958d90fe40b10ec0c88d68f984816152bcd4c6ef22064d4a0582354a37962c590b67731b278311094ac4e257e89adcd9caf40)
set(QT_HASH_qt5-scxml               d1dd4752983c35bb899882197098579ad7221039369f550290e1044fed6aa68f4da5d0c9969980ca3a63180d5d3e5f3ac208723ad80e8b71cd84cd86312ab453)
set(QT_HASH_qt5-sensors             47fc4f9e5fd9451de38896d388b85e6c0813718a860ef7c98666e6a1710baf38e7056a61c799837eea4efef083b79f9c3a380364792fd0f3c107bdd413e1bc6c)
set(QT_HASH_qt5-serialport          e8655eb5f18179a922f96ab5ca0014dbf1da21b581f2e0fc146337321dae85b1218ed48724fb63b211ea7349f428c176543292284d5c2fae63a4e66146f68c68)
set(QT_HASH_qt5-speech              9288cfbc37fd308deb41f287e3da38b5bdb83088fbc0f0276426f44c595a53fdc476b1e6122320f28a27f590e4801320eb14599dafa7491aa0d50be0bd124e27)
set(QT_HASH_qt5-svg                 fbe2df9e8756c8982c0e91c0d0356e50dd22d898087dfd028dfa6ed363ea18e1ddce5d5838d705e2d31509d1d823ccddcaf5f8916c587919e10a39ae04ee0090)
set(QT_HASH_qt5-tools               46e76d81c1b16160c9ab8da1475cfeed28e7140bc94868d4fc834639cc15ec67199b6169a7c820107cb72982bc2d56ba6987225f3fc773b8464e4023fda74265)
set(QT_HASH_qt5-virtualkeyboard     63b6b1ba7ad00db3ac019b8380e76a7881d3c85cdca62d4d539b0e84bf049880f2d1405ed90cd44259821488b582762af97ea3a06b1bc5cd5e5d975663cb613e)
set(QT_HASH_qt5-webchannel          7d6352016eec58c5212898ada0095337a732f4c67f161b907467a297ca68ad22b1a9c507f5a7482f3c2e6fa29a0e6b4c4ad540b69146c5ea4f87671fc45dffd3)
set(QT_HASH_qt5-websockets          c4d3b31e8110b74485e7fb1d6d82039efe176e8b626209485fbe3843f7a4b9f11708c9b978623d45e45263e6ae9990e927a3f7a9a48ced4dbcb5e954c60f593d)
set(QT_HASH_qt5-webview             e149bea2d76db859f1a2523793108963849332384ca6af9fa45be8e88b321405698edb89f3471ad99f05cf50b3921a8a7d2c2aab63ca1040ba8446abe3612954)
set(QT_HASH_qt5-winextras           174cf6421b18adba2297c8b8054d91ab764d8054d33d46ab1f11004c05f82877d5fc18b4fb395e0fb582b137376c815359f01b2d0bac03df90d4ff0118c026d4)
set(QT_HASH_qt5-xmlpatterns         ee783ec9429d393b165ce4947dd28cc92f018922862daacdbe2258bf4a23b64f2d30e0b781620061bb8063db5b16bf5e79b09c3174436e0bad04821bef305076)

if(QT_UPDATE_VERSION)
    message(STATUS "Running Qt in automatic version port update mode!")
    set(_VCPKG_INTERNAL_NO_HASH_CHECK 1)
    if("${PORT}" MATCHES "qt5-base")
        foreach(_current_qt_port ${QT_PORT_LIST})
            set(_current_control "${VCPKG_ROOT_DIR}/ports/qt5-${_current_qt_port}/CONTROL")
            file(READ ${_current_control} _control_contents)
            #message(STATUS "Before: \n${_control_contents}")
            string(REGEX REPLACE "Version:[^0-9]+[0-9]\.[0-9]+\.[0-9]+[^\n]*\n" "Version: ${QT_MAJOR_MINOR_VER}.${QT_PATCH_VER}\n" _control_contents "${_control_contents}")
            #message(STATUS "After: \n${_control_contents}")
            file(WRITE ${_current_control} "${_control_contents}")
        endforeach()
    endif()
endif()

get_filename_component(_dstorage_root "${CMAKE_CURRENT_LIST_DIR}" PATH)
get_filename_component(_dstorage_root "${_dstorage_root}" PATH)

add_library(Microsoft::DirectStorage SHARED IMPORTED)
set_target_properties(Microsoft::DirectStorage PROPERTIES
   IMPORTED_LOCATION                    "${_dstorage_root}/bin/dstorage.dll"
   IMPORTED_IMPLIB                      "${_dstorage_root}/lib/@lib_name@"
   INTERFACE_INCLUDE_DIRECTORIES        "${_dstorage_root}/include"
   INTERFACE_LINK_LIBRARIES             "Microsoft::DirectStorageCore"
   IMPORTED_LINK_INTERFACE_LANGUAGES    "C")

add_library(Microsoft::DirectStorageCore SHARED IMPORTED)
set_target_properties(Microsoft::DirectStorageCore PROPERTIES
   IMPORTED_LOCATION                    "${_dstorage_root}/bin/dstoragecore.dll"
   IMPORTED_IMPLIB                      "${_dstorage_root}/lib/@lib_name@"
   INTERFACE_INCLUDE_DIRECTORIES        "${_dstorage_root}/include"
   IMPORTED_LINK_INTERFACE_LANGUAGES    "C")

unset(_dstorage_root)

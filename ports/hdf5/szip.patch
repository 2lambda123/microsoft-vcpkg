diff --git a/CMakeFilters.cmake b/CMakeFilters.cmake
index d5f801e..ddd84f6 100644
--- a/CMakeFilters.cmake
+++ b/CMakeFilters.cmake
@@ -117,8 +117,16 @@ if (HDF5_ENABLE_SZIP_SUPPORT)
         set (LINK_COMP_LIBS ${LINK_COMP_LIBS} ${SZIP_LIBRARIES})
       endif ()
     endif ()
+  else()
+    find_package(szip CONFIG REQUIRED)
   endif ()
-  if (SZIP_FOUND)
+  if (TARGET szip-shared)
+      set (SZIP_SHARED_LIBRARY szip-shared)
+      set (SZIP_STATIC_LIBRARY szip-shared)
+  elseif (TARGET szip-static)
+      set (SZIP_SHARED_LIBRARY szip-static)
+      set (SZIP_STATIC_LIBRARY szip-static)
+  elseif (SZIP_FOUND)
     set (H5_HAVE_FILTER_SZIP 1)
     set (H5_HAVE_SZLIB_H 1)
     set (H5_HAVE_LIBSZ 1)

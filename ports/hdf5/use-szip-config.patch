--- a/CMakeFilters.cmake	2018-02-10 12:03:46.501616360 +0900
+++ b/CMakeFilters.cmake	2018-02-10 12:28:36.063407750 +0900
@@ -95,7 +95,18 @@
 if (HDF5_ENABLE_SZIP_SUPPORT)
   option (HDF5_ENABLE_SZIP_ENCODING "Use SZip Encoding" OFF)
   if (NOT SZIP_USE_EXTERNAL)
-    find_package (SZIP NAMES ${SZIP_PACKAGE_NAME}${HDF_PACKAGE_EXT} COMPONENTS static shared)
+    # explicitly specify whether static or shared component required
+    if (NOT DISABLE_STATIC_LIBS)
+      find_package (SZIP COMPONENTS static CONFIG)
+      if (SZIP_static_FOUND) # workaround for szip-config bug
+        set (SZIP_FOUND TRUE)
+      endif (SZIP_static_FOUND)
+    else (NOT DISABLE_STATIC_LIBS)
+      find_package (SZIP COMPONENTS shared CONFIG)
+      if (SZIP_shared_FOUND) # workaround for szip-config bug
+        set (SZIP_FOUND TRUE)
+      endif(SZIP_shared_FOUND)
+    endif (NOT DISABLE_STATIC_LIBS)
     if (NOT SZIP_FOUND)
       find_package (SZIP) # Legacy find
       if (SZIP_FOUND)

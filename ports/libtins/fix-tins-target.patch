diff --git a/CMakeLists.txt b/CMakeLists.txt
index 747394d..8de1cdc 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,4 +1,4 @@
-CMAKE_MINIMUM_REQUIRED(VERSION 2.8.1)
+CMAKE_MINIMUM_REQUIRED(VERSION 3.0.2) # target_compile_definitions is not available on 2.8.1
 PROJECT(libtins)
 
 OPTION(LIBTINS_BUILD_EXAMPLES "Build examples" ON)
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index e07772e..2dbab5c 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -202,21 +202,29 @@ SET(PCAP_DEPENDENT_HEADERS
 IF(LIBTINS_ENABLE_PCAP)
     SET(SOURCES ${SOURCES} ${PCAP_DEPENDENT_SOURCES})
     SET(HEADERS ${HEADERS} ${PCAP_DEPENDENT_HEADERS})
-ENDIF() 
+ENDIF()
 
-ADD_LIBRARY( 
+ADD_LIBRARY(
     tins ${LIBTINS_TYPE}
     ${SOURCES}
     ${HEADERS}
 )
 
-TARGET_LINK_LIBRARIES(tins ${PCAP_LIBRARY} ${OPENSSL_LIBRARIES} ${LIBTINS_OS_LIBS})
+TARGET_LINK_LIBRARIES(tins PUBLIC ${PCAP_LIBRARY} ${OPENSSL_LIBRARIES} ${LIBTINS_OS_LIBS})
 
 SET_TARGET_PROPERTIES(tins PROPERTIES OUTPUT_NAME tins)
 SET_TARGET_PROPERTIES(tins PROPERTIES VERSION ${LIBTINS_VERSION} SOVERSION ${LIBTINS_VERSION} )
 
+IF(NOT LIBTINS_BUILD_SHARED)
+  TARGET_COMPILE_DEFINITIONS(tins PUBLIC TINS_STATIC)
+ENDIF()
+
+IF(NOT "$ENV{PACKET_LIB_PATH}" STREQUAL "")
+  TARGET_LINK_LIBRARIES(tins PUBLIC $ENV{PACKET_LIB_PATH})
+ENDIF()
+
 # Install instructions for this target
-INSTALL( 
+INSTALL(
     TARGETS tins
     EXPORT libtinsTargets
     RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}

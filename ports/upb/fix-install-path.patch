diff --git a/cmake/CMakeLists.txt b/cmake/CMakeLists.txt
index 003615e..182bb85 100644
--- a/cmake/CMakeLists.txt
+++ b/cmake/CMakeLists.txt
@@ -94,6 +94,9 @@ add_library(fastdecode
 target_link_libraries(fastdecode
   port
   table)
+install(TARGETS fastdecode EXPORT fastdecode)
+install(EXPORT fastdecode NAMESPACE upb:: DESTINATION share/upb)
+
 add_library(generated_code_support__only_for_generated_code_do_not_use__i_give_permission_to_break_me INTERFACE)
 target_link_libraries(generated_code_support__only_for_generated_code_do_not_use__i_give_permission_to_break_me INTERFACE
   table
@@ -168,7 +171,7 @@ target_link_libraries(upb_json
 add_library(wyhash INTERFACE)
 
 install(
-  DIRECTORY upb
+  DIRECTORY ../upb
   DESTINATION include
   FILES_MATCHING
   PATTERN "*.h"
@@ -179,7 +182,6 @@ install(
 target_include_directories(upb PUBLIC $<INSTALL_INTERFACE:include>)
 install(TARGETS
   upb
-  upb_cc_bindings
   upb_json
   upb_pb
   port
@@ -189,5 +191,6 @@ install(TARGETS
   reflection
   EXPORT upb-config
 )
+
 install(EXPORT upb-config NAMESPACE upb:: DESTINATION share/upb)
 

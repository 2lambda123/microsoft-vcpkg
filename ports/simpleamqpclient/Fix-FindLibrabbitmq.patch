diff --git a/CMakeLists.txt b/CMakeLists.txt
index 340f732..fb6aa6f 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -37,8 +37,13 @@ INCLUDE_DIRECTORIES(SYSTEM ${Boost_INCLUDE_DIRS})
 LINK_DIRECTORIES(${Boost_LIBRARY_DIRS})
 
 SET(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/Modules)
-FIND_PACKAGE(Rabbitmqc REQUIRED)
-INCLUDE_DIRECTORIES(SYSTEM ${Rabbitmqc_INCLUDE_DIRS})
+if (WIN32)
+    set(Rabbitmqc_LIB_SUFFIX .4)
+endif()
+FIND_LIBRARY(Rabbitmqc_LIBRARY rabbitmq${Rabbitmqc_LIB_SUFFIX} REQUIRED)
+FIND_PATH(Rabbitmqc_INCLUDE_DIRS amqp.h)
+INCLUDE_DIRECTORIES(${Rabbitmqc_INCLUDE_DIRS})
+LINK_LIBRARIES(${Rabbitmqc_LIBRARY})
 
 option(ENABLE_SSL_SUPPORT "Enable SSL support." ${Rabbitmqc_SSL_ENABLED})
 

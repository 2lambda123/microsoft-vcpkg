vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_CMAKE_PATH
  REPO soasis/cmake
  REF 4277edaf7bf237de07c4a9833f6546872ab9f151
  SHA512 f05143068a1f22bd46aa0d8c250afb04b29ffbc0f32d746093bfb61f274d0e212ff9786a5163608097ed989b5b212d73811179f311a37d2b2eedce89cc75ee94
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_IDK_PATH
  REPO soasis/idk
  REF 6173bb3d433a3dab65e8c356ef69441aa5a86275
  SHA512 083711e9fc9b03aac34c5a7e182691a9bc9ee2d7c2d9ed2f55093423e2655f7a3829bd3e3db82bc42a78721795ca2d21a7b64c71f05e3c03ea3198f6228eb6f2
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH SOURCE_PATH
  REPO soasis/text
  REF a562a6a2cb902e7ba0772419fedb32b3e7e8384c # latest
  SHA512 8d8750e97210695a8bfb43fb50223323bf6c8c0e1f95cedecd848f1bcf6580967746f03718e5a0e8e5744da020c9392336574764d8348b6e3e70fee34ececc8b
  HEAD_REF main
)

vcpkg_cmake_configure(
  SOURCE_PATH ${SOURCE_PATH}
  OPTIONS
    -DFETCHCONTENT_FULLY_DISCONNECTED=ON
    -DFETCHCONTENT_SOURCE_DIR_ZTD.CMAKE=${ZTD_CMAKE_PATH}
    -DFETCHCONTENT_SOURCE_DIR_ZTD.IDK=${ZTD_IDK_PATH}
)
vcpkg_cmake_install()

file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug" "${CURRENT_PACKAGES_DIR}/bin" "${CURRENT_PACKAGES_DIR}/lib")

file(INSTALL "${CMAKE_CURRENT_LIST_DIR}/usage" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}")
file(INSTALL "${SOURCE_PATH}/LICENSE" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}" RENAME copyright)

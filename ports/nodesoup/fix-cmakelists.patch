diff --git a/CMakeLists.txt b/CMakeLists.txt
index be6aa9d..a27f642 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -12,17 +12,6 @@ if(CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME)
   option(BUILD_SHARED_LIBS "Build shared libraries" OFF)
 endif()
 
-set(default_build_type "Release")
-if(NOT CMAKE_BUILD_TYPE AND NOT CMAKE_CONFIGURATION_TYPES)
-  message(
-    STATUS
-      "Setting build type to '${default_build_type}' as none was specified.")
-  set(CMAKE_BUILD_TYPE
-      "${default_build_type}"
-      CACHE STRING "Choose the type of build." FORCE)
-  set_property(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS "Debug" "Release"
-                                               "MinSizeRel" "RelWithDebInfo")
-endif()
 
 add_subdirectory(src)
 
@@ -32,27 +21,29 @@ install(
   EXPORT nodesoup-targets
   LIBRARY DESTINATION lib
   ARCHIVE DESTINATION lib
-  INCLUDES
-  DESTINATION include
+  INCLUDES DESTINATION include
   PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/nodesoup)
 
 include(CMakePackageConfigHelpers)
-write_basic_package_version_file(
-  nodesoup-config-version.cmake
-  VERSION ${PACKAGE_VERSION}
-  COMPATIBILITY AnyNewerVersion)
 
+configure_package_config_file(${CMAKE_CURRENT_SOURCE_DIR}/nodesoup-config.cmake.in
+  "${CMAKE_CURRENT_BINARY_DIR}/nodesoup-config.cmake"
+  INSTALL_DESTINATION "share/nodesoup/"
+  NO_SET_AND_CHECK_MACRO
+  NO_CHECK_REQUIRED_COMPONENTS_MACRO
+  )
+install(FILES ${CMAKE_CURRENT_BINARY_DIR}/nodesoup-config.cmake DESTINATION "share/nodesoup/")
 install(
   EXPORT nodesoup-targets
   FILE nodesoup-config.cmake
   NAMESPACE nodesoup::
-  DESTINATION lib/cmake/nodesoup)
-
-export(
-  TARGETS nodesoup
-  NAMESPACE nodesoup::
-  FILE nodesoup-targets.cmake)
+  DESTINATION share/cmake/nodesoup)
+install(EXPORT nodesoup-targets
+        FILE nodesoup-targets.cmake
+        NAMESPACE nodesoup::
+        DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/nodesoup/)
 
+if(0)
 if(CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME)
   set(CPACK_PACKAGE_VENDOR "olvb")
   set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_CURRENT_SOURCE_DIR}/LICENSE")
@@ -67,3 +58,4 @@ if((CMAKE_PROJECT_NAME STREQUAL PROJECT_NAME OR nodesoup_BUILD_DEMO)
    AND BUILD_DEMO)
   add_subdirectory(demo)
 endif()
+endif()

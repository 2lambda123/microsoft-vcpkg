diff --git a/dlib/CMakeLists.txt b/dlib/CMakeLists.txt
index 9f3001d..962cfc4 100644
--- a/dlib/CMakeLists.txt
+++ b/dlib/CMakeLists.txt
@@ -814,6 +814,9 @@ if (NOT TARGET dlib)
 
 
       if (DLIB_LINK_WITH_SQLITE3)
+         find_package(unofficial-sqlite3 CONFIG REQUIRED)
+         list(APPEND dlib_needed_libraries unofficial::sqlite3::sqlite3)
+      elseif(0)
          find_library(sqlite sqlite3)
          # make sure sqlite3.h is in the include path
          find_path(sqlite_path sqlite3.h)
@@ -829,6 +832,9 @@ if (NOT TARGET dlib)
 
 
       if (DLIB_USE_FFTW)
+         find_package(FFTW3 CONFIG REQUIRED)
+         list(APPEND dlib_needed_libraries FFTW3::fftw3)
+      elseif(0)
          find_library(fftw fftw3)
          # make sure fftw3.h is in the include path
          find_path(fftw_path fftw3.h)
diff --git a/dlib/cmake_utils/dlibConfig.cmake.in b/dlib/cmake_utils/dlibConfig.cmake.in
index 2667a2e..cc7b4a2 100644
--- a/dlib/cmake_utils/dlibConfig.cmake.in
+++ b/dlib/cmake_utils/dlibConfig.cmake.in
@@ -31,6 +31,14 @@ if(NOT TARGET dlib-shared AND NOT dlib_BINARY_DIR)
    unset(dlib_deps_threads_check)
 endif()
 
+include(CMakeFindDependencyMacro)
+if("@DLIB_USE_FFTW@")
+   find_dependency(FFTW3 CONFIG)
+endif()
+if("@DLIB_LINK_WITH_SQLITE3@")
+   find_dependency(unofficial-sqlite3 CONFIG)
+endif()
+
 set(dlib_LIBRARIES dlib::dlib)
 set(dlib_LIBS      dlib::dlib)
 set(dlib_INCLUDE_DIRS "@CMAKE_INSTALL_FULL_INCLUDEDIR@" "@dlib_needed_includes@")

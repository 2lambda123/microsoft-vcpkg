diff --git a/CMakeLists.txt b/CMakeLists.txt
index a119408..deff291 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -3,6 +3,8 @@ cmake_minimum_required(VERSION 3.0)
 project(zxing)
 set(CMAKE_CXX_STANDARD 11)
 option(BUILD_TESTING "Enable generation of test targets" OFF)
+option(WITH_OPENCV "Build with opencv" OFF)
+option(WITH_ICONV "Build with iconv" OFF)
 
 set(CMAKE_LIBRARY_PATH /opt/local/lib ${CMAKE_LIBRARY_PATH})
 
@@ -51,7 +53,8 @@ link_libraries(bigint::bigint)
 
 # OpenCV classes
 find_package(OpenCV)
-if(OpenCV_FOUND)
+if(WITH_OPENCV)
+    find_package(OpenCV REQUIRED)
     list(APPEND LIBZXING_FILES
         opencv/src/zxing/MatSource.cpp
         opencv/src/zxing/MatSource.h
@@ -65,8 +68,8 @@ include_directories(core/src)
 add_library(libzxing ${LIBZXING_FILES})
 set_target_properties(libzxing PROPERTIES PREFIX "")
 
-find_package(Iconv)
-if(ICONV_FOUND)
+if(WITH_ICONV)
+    find_package(Iconv REQUIRED)
     include_directories(${Iconv_INCLUDE_DIRS})
     target_link_libraries(libzxing ${Iconv_LIBRARIES})
 else()

diff --git a/build-aux/ltmain.in b/build-aux/ltmain.in
index 34d64db..ebea2a6 100644
--- a/build-aux/ltmain.in
+++ b/build-aux/ltmain.in
@@ -5938,8 +5938,14 @@ func_mode_link ()
 	  fi
 	  case $linkmode in
 	  lib)
-	    # Linking convenience modules into shared libraries is allowed,
+	    # Linking convenience modules and compiler provided static libraries into shared libraries is allowed,
 	    # but linking other static libraries is non-portable.
+	    case $deplib in
+	      */libgcc*.$libext | */libclang_rt*.$libext)
+		deplibs="$deplib $deplibs"
+		continue
+	      ;;
+	    esac
 	    case " $dlpreconveniencelibs " in
 	    *" $deplib "*) ;;
 	    *)

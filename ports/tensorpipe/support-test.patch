diff --git a/tensorpipe/test/CMakeLists.txt b/tensorpipe/test/CMakeLists.txt
index c0320aa..ecaacaa 100644
--- a/tensorpipe/test/CMakeLists.txt
+++ b/tensorpipe/test/CMakeLists.txt
@@ -85,12 +85,9 @@ if(TP_USE_CUDA)
     )
 endif()
 
-
-add_subdirectory(${PROJECT_SOURCE_DIR}/third_party/googletest
-  ${PROJECT_BINARY_DIR}/third_party/googletest)
-
+find_package(GTest CONFIG REQUIRED)
 target_link_libraries(tensorpipe_test PRIVATE
   tensorpipe
-  uv::uv
-  gmock
-  gtest_main)
+  unofficial::libuv::libuv
+  GTest::gmock GTest::gtest_main
+)

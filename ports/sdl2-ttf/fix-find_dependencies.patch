diff --git a/CMakeLists.txt b/CMakeLists.txt
index a097d5c..66775c2 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -59,7 +59,7 @@ option(SDL2TTF_HARFBUZZ "Use harfbuzz to improve text shaping" OFF)
 set(SDL2TTF_HARFBUZZ_VENDORED "${SDL2TTF_VENDORED}")
 
 # Save BUILD_SHARED_LIBS variable
-set(SDL2TTF_BUILD_SHARED_LIBS "${BUILD_SHARED_LIBS}")
+set(SDL2TTF_BUILD_SHARED_LIBS ${BUILD_SHARED_LIBS})
 
 if(SDL2TTF_BUILD_SHARED_LIBS)
     set(sdl2_ttf_export_name SDL2_ttf)
@@ -164,6 +164,7 @@ set(PC_REQUIRES)
 set(BUILD_SHARED_LIBS OFF)
 
 if(SDL2TTF_HARFBUZZ)
+    if(0)
     if(SDL2TTF_HARFBUZZ_VENDORED)
         message(STATUS "${PROJECT_NAME}: Using vendored harfbuzz library")
         # HB_BUILD_UTILS variable is used by harfbuzz
@@ -192,9 +193,16 @@ if(SDL2TTF_HARFBUZZ)
     endif()
     target_compile_definitions(SDL2_ttf PRIVATE TTF_USE_HARFBUZZ=1)
     target_link_libraries(SDL2_ttf PRIVATE harfbuzz::harfbuzz)
+    endif()
+
+    find_package(harfbuzz REQUIRED)
+    target_compile_definitions(SDL2_ttf PRIVATE TTF_USE_HARFBUZZ=1)
+    target_link_libraries(SDL2_ttf PRIVATE harfbuzz::harfbuzz)
+
 endif()
 
 if(SDL2TTF_FREETYPE)
+    if(0)
     if(SDL2TTF_FREETYPE_VENDORED)
         message(STATUS "${PROJECT_NAME}: Using vendored freetype library")
         # FT_DISABLE_ZLIB variable is used by freetype
@@ -232,7 +240,11 @@ if(SDL2TTF_FREETYPE)
         find_package(Freetype REQUIRED)
         list(APPEND PC_REQUIRES freetype2)
     endif()
+    endif()
+
+    find_package(Freetype REQUIRED)
     target_link_libraries(SDL2_ttf PRIVATE Freetype::Freetype)
+
 endif()
 
 # Restore BUILD_SHARED_LIBS variable
@@ -325,7 +337,7 @@ if(SDL2TTF_INSTALL)
         COMPONENT devel
     )
 
-    if(SDL2TTF_BUILD_SHARED_LIBS)
+    if(1)
         # Only create a .pc file for a shared SDL2_ttf
         set(prefix "${CMAKE_INSTALL_PREFIX}")
         set(exec_prefix "\${prefix}")
@@ -352,7 +364,7 @@ if(SDL2TTF_INSTALL)
             \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\" ONLY_IF_DIFFERENT)
         file(INSTALL DESTINATION \"\${CMAKE_INSTALL_PREFIX}/${PC_DESTDIR}\"
             TYPE FILE
-            FILES \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\")" CONFIG Release)
+            FILES \"${CMAKE_CURRENT_BINARY_DIR}/SDL2_ttf.pc\")")
     endif()
 
     if(SDL2TTF_BUILD_SHARED_LIBS AND (APPLE OR (UNIX AND NOT ANDROID)))

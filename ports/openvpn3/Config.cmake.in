get_filename_component(_openvpn3_root "${CMAKE_CURRENT_LIST_FILE}" PATH)
get_filename_component(_openvpn3_root "${_openvpn3_root}" PATH)
get_filename_component(_openvpn3_root "${_openvpn3_root}" PATH)

set(_openvpn3_rel_lib "${_openvpn3_root}/lib/ovpncli.lib")
set(_openvpn3_dbg_lib "${_openvpn3_root}/debug/lib/ovpncli.lib")

if (EXISTS "${_openvpn3_rel_lib}" OR EXISTS "${_openvpn3_dbg_lib}")

    add_library(unofficial::ovpncli INTERFACE IMPORTED)
    set_target_properties(unofficial::ovpncli PROPERTIES INTERFACE_INCLUDE_DIRECTORIES "${_openvpn3_root}/include")
    
     if (EXISTS "${_openvpn3_rel_lib}")
        set_target_properties(unofficial::ovpncli 
            PROPERTIES IMPORTED_LOCATION_RELEASE "${_ovpncli_rel_lib}")
        set_property(TARGET unofficial::ovpncli APPEND PROPERTY IMPORTED_CONFIGURATIONS RELEASE)
    endif()
    if (EXISTS "${_openvpn3_dbg_lib}")
        set_target_properties(unofficial::ovpncli 
            PROPERTIES IMPORTED_LOCATION_DEBUG "${_ovpncli_dbg_lib}")
        set_property(TARGET unofficial::ovpncli APPEND PROPERTY IMPORTED_CONFIGURATIONS DEBUG)
    endif()
    
else()

    set(openvpn3_FOUND FALSE)

endif()

unset(_openvpn3_rel_lib)
unset(_openvpn3_dbg_lib)
unset(_openvpn3_root)

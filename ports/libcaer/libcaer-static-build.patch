diff --git a/CMakeLists.txt b/CMakeLists.txt
index 3b1937a..a75db2b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -20,6 +20,8 @@ OPTION(ENABLE_SERIALDEV "Enable support for serial port devices using libserialp
 OPTION(ENABLE_OPENCV "Enable support for frame enhancements using OpenCV" OFF)
 OPTION(UDEV_INSTALL "Install udev rules on Linux" ON)
 OPTION(EXAMPLES_INSTALL "Build and install examples" OFF)
+OPTION(ENABLE_BINDIR_INSTALLATION "Split archive and binary installation targets [required for vcpkg installation]" OFF)
+OPTION(BUILD_SHARED_LIBS "Build libcaer as a shared library" ON)
 
 # Cross-compile support
 IF(NOT USER_LOCAL_PREFIX)
@@ -98,7 +100,7 @@ INCLUDE(CMakePackageConfigHelpers)
 WRITE_BASIC_CONFIG_VERSION_FILE(${PROJECT_BINARY_DIR}/${PROJECT_NAME}ConfigVersion.cmake VERSION ${PROJECT_VERSION}
 								COMPATIBILITY SameMajorVersion)
 SET(include_dirs ${CMAKE_INSTALL_INCLUDEDIR})
-IF(CC_MSVC)
+IF(ENABLE_BINDIR_INSTALLATION)
 	SET(export_destination ${CMAKE_INSTALL_DATAROOTDIR}/${PROJECT_NAME})
 ELSE()
 	SET(export_destination ${CMAKE_INSTALL_LIBDIR}/cmake/${PROJECT_NAME})
diff --git a/cmakemod/inivation-setup.cmake b/cmakemod/inivation-setup.cmake
index aab416a..02ae696 100644
--- a/cmakemod/inivation-setup.cmake
+++ b/cmakemod/inivation-setup.cmake
@@ -166,7 +166,7 @@ IF(OS_UNIX)
 	ADD_DEFINITIONS(-D_DEFAULT_SOURCE=1)
 
 	IF(OS_MACOS)
-		ADD_DEFINITIONS(-D_DARWIN_C_SOURCE=1)
+		ADD_DEFINITIONS(-D_POSIX_C_SOURCE=1)
 	ENDIF()
 ENDIF()
 
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 377a556..bf5701e 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -63,7 +63,7 @@ ENDIF()
 # Set full RPATH
 SET(CMAKE_INSTALL_RPATH ${USER_LOCAL_PREFIX}/${CMAKE_INSTALL_LIBDIR})
 
-ADD_LIBRARY(caer SHARED ${LIBCAER_SOURCES})
+ADD_LIBRARY(caer ${LIBCAER_SOURCES})
 IF(CC_MSVC)
 	# This flag needs to be propagated down to depending targets to avoid compilation errors
 	TARGET_COMPILE_OPTIONS(caer INTERFACE -DWIN32_LEAN_AND_MEAN=ON)
@@ -94,7 +94,7 @@ IF(ENABLE_STATIC)
 
 	SET_TARGET_PROPERTIES(caerStatic PROPERTIES OUTPUT_NAME caer)
 
-	IF(OS_WINDOWS)
+	IF(ENABLE_BINDIR_INSTALLATION)
 		INSTALL(
 			TARGETS caerStatic
 			EXPORT libcaer-exports
diff --git a/src/log.c b/src/log.c
index a21bcbe..24fd109 100644
--- a/src/log.c
+++ b/src/log.c
@@ -9,6 +9,7 @@
 #	define thread_local __declspec(thread)
 #else
 #	define thread_local _Thread_local
+#	include <unistd.h>
 #endif
 
 static atomic_uint_fast8_t caerLogLevel    = ATOMIC_VAR_INIT(CAER_LOG_ERROR);

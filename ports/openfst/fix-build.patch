diff --git a/CMakeLists.txt b/CMakeLists.txt
index f6189db..8457084 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,5 +1,7 @@
 project(openfst)
+if(BUILD_UNIT_TESTS)
 include(CTest)
+endif()
 find_package(ICU COMPONENTS data i18n io  test tu uc)
 if (ICU_FOUND)
   include_directories(${ICU_INCLUDE_DIRS})
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index acc4bf1..00283d7 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -6,13 +6,21 @@ install(DIRECTORY include/ DESTINATION include/
         FILES_MATCHING PATTERN "*.h")
 
 add_subdirectory(lib)
+if(BUILD_TOOLS)
 add_subdirectory(script)
+endif()
 
 if(HAVE_BIN)
+if(BUILD_TOOLS)
   add_subdirectory(bin)
+endif()
 endif(HAVE_BIN)
 
+if(BUILD_TOOLS)
 add_subdirectory(extensions)
+endif()
 
+if(BUILD_UNIT_TESTS)
 enable_testing()
 add_subdirectory(test)
+endif()
diff --git a/src/lib/CMakeLists.txt b/src/lib/CMakeLists.txt
index c004aee..b2d716d 100644
--- a/src/lib/CMakeLists.txt
+++ b/src/lib/CMakeLists.txt
@@ -1,5 +1,7 @@
 FILE(GLOB HEADER_FILES ../include/fst/*.h)
 
+include(CMakePackageConfigHelpers)
+include(GNUInstallDirs)
 
 add_library(fst
   compat.cc
@@ -18,9 +20,12 @@ set_target_properties(fst PROPERTIES
   SOVERSION "${SOVERSION}"
 )
 
-
-
-install(TARGETS fst
-  LIBRARY DESTINATION lib
-  ARCHIVE DESTINATION lib
-  RUNTIME DESTINATION lib)
+install(TARGETS fst EXPORT unofficial-openfstTargets
+  LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+  ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
+  RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
+install(DIRECTORY ../include/fst DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})
+install(EXPORT unofficial-openfstTargets
+    NAMESPACE unofficial::openfst::
+    DESTINATION share/unofficial-openfst
+)

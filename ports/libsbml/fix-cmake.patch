diff --git a/CMakeModules/FindLIBXML.cmake b/CMakeModules/FindLIBXML.cmake
index 73e5f5a..f7ff0e7 100644
--- a/CMakeModules/FindLIBXML.cmake
+++ b/CMakeModules/FindLIBXML.cmake
@@ -66,7 +66,7 @@ if (EXISTS ${LIBICONV_LIBRARY})
 set(ADDITIONAL_LIBS "${ADDITIONAL_LIBS}${LIBICONV_LIBRARY};")
 endif()
 find_package(ZLIB QUIET)
-if (EXISTS ${ZLIB_LIBRARY})
+if (WITH_ZLIB AND ZLIB_FOUND)
 set(ADDITIONAL_LIBS "${ADDITIONAL_LIBS}ZLIB::ZLIB;")
 endif()
 if (WIN32)
@@ -91,7 +91,7 @@ if(NOT TARGET LIBXML::LIBXML)
 endif()
 
 # figure out if we need XML_STATIC flag
-if (LIBXML_INCLUDE_DIR AND LIBXML_LIBRARY)
+if (0)
 
   set(LIBXML_LIBXML_CODE
 "

diff --git a/CMakeLists.txt b/CMakeLists.txt
index a383794..98de58c 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -302,7 +302,7 @@ target_include_directories(datachannel-static PUBLIC
 target_include_directories(datachannel-static PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/include/rtc)
 target_include_directories(datachannel-static PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src)
 target_link_libraries(datachannel-static PRIVATE Threads::Threads)
-target_link_libraries(datachannel-static PRIVATE Usrsctp::Usrsctp plog::plog)
+target_link_libraries(datachannel-static PRIVATE usrsctp plog::plog)
 
 if(WIN32)
 	target_link_libraries(datachannel PUBLIC ws2_32) # winsock2
@@ -446,11 +446,24 @@ if(WARNINGS_AS_ERRORS)
 	endif()
 endif()
 
+if(DATACHANNEL_STATIC_LINKAGE)
+set_target_properties(datachannel PROPERTIES EXCLUDE_FROM_ALL 1)
+set_target_properties(datachannel-static PROPERTIES EXCLUDE_FROM_ALL 0)
+
+install(TARGETS datachannel-static EXPORT LibDataChannelTargets
+       RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
+       LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+       ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
+)
+else()
+set_target_properties(datachannel PROPERTIES EXCLUDE_FROM_ALL 0)
+set_target_properties(datachannel-static PROPERTIES EXCLUDE_FROM_ALL 1)
 install(TARGETS datachannel EXPORT LibDataChannelTargets
 	RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
 	LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
 	ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
 )
+endif()
 
 install(FILES ${LIBDATACHANNEL_HEADERS}
 	DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/rtc
